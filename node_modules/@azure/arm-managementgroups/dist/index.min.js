"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib=require("tslib"),coreClient=require("@azure/core-client"),coreRestPipeline=require("@azure/core-rest-pipeline"),coreLro=require("@azure/core-lro");function _interopNamespace(a){var r;return a&&a.__esModule?a:(r=Object.create(null),a&&Object.keys(a).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(a,e),Object.defineProperty(r,e,t.get?t:{enumerable:!0,get:function(){return a[e]}}))}),r.default=a,Object.freeze(r))}var coreClient__namespace=_interopNamespace(coreClient),coreRestPipeline__namespace=_interopNamespace(coreRestPipeline);const pageMap=new WeakMap;function getContinuationToken(e){return"object"!=typeof e||null===e||null==(e=pageMap.get(e))?void 0:e.continuationToken}function setContinuationToken(e,t){var a;"object"==typeof e&&null!==e&&t&&((a=null!=(a=pageMap.get(e))?a:{}).continuationToken=t,pageMap.set(e,a))}exports.KnownEnum0=void 0,function(e){e.Children="children",e.Path="path",e.Ancestors="ancestors"}(exports.KnownEnum0||(exports.KnownEnum0={})),exports.KnownManagementGroupChildType=void 0,function(e){e.MicrosoftManagementManagementGroups="Microsoft.Management/managementGroups",e.Subscriptions="/subscriptions"}(exports.KnownManagementGroupChildType||(exports.KnownManagementGroupChildType={})),exports.KnownEnum2=void 0,function(e){e.AllowedParents="AllowedParents",e.AllowedChildren="AllowedChildren",e.ParentAndFirstLevelChildren="ParentAndFirstLevelChildren",e.ParentOnly="ParentOnly",e.ChildrenOnly="ChildrenOnly"}(exports.KnownEnum2||(exports.KnownEnum2={})),exports.KnownEnum3=void 0,function(e){e.FullHierarchy="FullHierarchy",e.GroupsOnly="GroupsOnly",e.SubscriptionsOnly="SubscriptionsOnly",e.Audit="Audit"}(exports.KnownEnum3||(exports.KnownEnum3={})),exports.KnownPermissions=void 0,function(e){e.Noaccess="noaccess",e.View="view",e.Edit="edit",e.Delete="delete"}(exports.KnownPermissions||(exports.KnownPermissions={}));const ManagementGroupListResult={type:{name:"Composite",className:"ManagementGroupListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"ManagementGroupInfo"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},ManagementGroupInfo={type:{name:"Composite",className:"ManagementGroupInfo",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},tenantId:{serializedName:"properties.tenantId",type:{name:"String"}},displayName:{serializedName:"properties.displayName",type:{name:"String"}}}}},ErrorResponse={type:{name:"Composite",className:"ErrorResponse",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorDetails"}}}}},ErrorDetails={type:{name:"Composite",className:"ErrorDetails",modelProperties:{code:{serializedName:"code",type:{name:"String"}},message:{serializedName:"message",type:{name:"String"}},details:{serializedName:"details",type:{name:"String"}}}}},ManagementGroup={type:{name:"Composite",className:"ManagementGroup",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},tenantId:{serializedName:"properties.tenantId",type:{name:"String"}},displayName:{serializedName:"properties.displayName",type:{name:"String"}},details:{serializedName:"properties.details",type:{name:"Composite",className:"ManagementGroupDetails"}},children:{serializedName:"properties.children",nullable:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ManagementGroupChildInfo"}}}}}}},ManagementGroupDetails={type:{name:"Composite",className:"ManagementGroupDetails",modelProperties:{version:{serializedName:"version",type:{name:"Number"}},updatedTime:{serializedName:"updatedTime",type:{name:"DateTime"}},updatedBy:{serializedName:"updatedBy",type:{name:"String"}},parent:{serializedName:"parent",type:{name:"Composite",className:"ParentGroupInfo"}},path:{serializedName:"path",nullable:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ManagementGroupPathElement"}}}},managementGroupAncestors:{serializedName:"managementGroupAncestors",nullable:!0,type:{name:"Sequence",element:{type:{name:"String"}}}},managementGroupAncestorsChain:{serializedName:"managementGroupAncestorsChain",nullable:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ManagementGroupPathElement"}}}}}}},ParentGroupInfo={type:{name:"Composite",className:"ParentGroupInfo",modelProperties:{id:{serializedName:"id",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},displayName:{serializedName:"displayName",type:{name:"String"}}}}},ManagementGroupPathElement={type:{name:"Composite",className:"ManagementGroupPathElement",modelProperties:{name:{serializedName:"name",type:{name:"String"}},displayName:{serializedName:"displayName",type:{name:"String"}}}}},ManagementGroupChildInfo={type:{name:"Composite",className:"ManagementGroupChildInfo",modelProperties:{type:{serializedName:"type",type:{name:"String"}},id:{serializedName:"id",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},displayName:{serializedName:"displayName",type:{name:"String"}},children:{serializedName:"children",type:{name:"Sequence",element:{type:{name:"Composite",className:"ManagementGroupChildInfo"}}}}}}},CreateManagementGroupRequest={type:{name:"Composite",className:"CreateManagementGroupRequest",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},tenantId:{serializedName:"properties.tenantId",readOnly:!0,type:{name:"String"}},displayName:{serializedName:"properties.displayName",nullable:!0,type:{name:"String"}},details:{serializedName:"properties.details",type:{name:"Composite",className:"CreateManagementGroupDetails"}},children:{serializedName:"properties.children",readOnly:!0,nullable:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"CreateManagementGroupChildInfo"}}}}}}},CreateManagementGroupDetails={type:{name:"Composite",className:"CreateManagementGroupDetails",modelProperties:{version:{serializedName:"version",readOnly:!0,type:{name:"Number"}},updatedTime:{serializedName:"updatedTime",readOnly:!0,type:{name:"DateTime"}},updatedBy:{serializedName:"updatedBy",readOnly:!0,type:{name:"String"}},parent:{serializedName:"parent",type:{name:"Composite",className:"CreateParentGroupInfo"}}}}},CreateParentGroupInfo={type:{name:"Composite",className:"CreateParentGroupInfo",modelProperties:{id:{serializedName:"id",type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},displayName:{serializedName:"displayName",readOnly:!0,type:{name:"String"}}}}},CreateManagementGroupChildInfo={type:{name:"Composite",className:"CreateManagementGroupChildInfo",modelProperties:{type:{serializedName:"type",readOnly:!0,type:{name:"String"}},id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},displayName:{serializedName:"displayName",readOnly:!0,type:{name:"String"}},children:{serializedName:"children",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"CreateManagementGroupChildInfo"}}}}}}},AzureAsyncOperationResults={type:{name:"Composite",className:"AzureAsyncOperationResults",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},status:{serializedName:"status",readOnly:!0,type:{name:"String"}},tenantId:{serializedName:"properties.tenantId",type:{name:"String"}},displayName:{serializedName:"properties.displayName",type:{name:"String"}}}}},PatchManagementGroupRequest={type:{name:"Composite",className:"PatchManagementGroupRequest",modelProperties:{displayName:{serializedName:"displayName",nullable:!0,type:{name:"String"}},parentGroupId:{serializedName:"parentGroupId",nullable:!0,type:{name:"String"}}}}},DescendantListResult={type:{name:"Composite",className:"DescendantListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"DescendantInfo"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},DescendantInfo={type:{name:"Composite",className:"DescendantInfo",modelProperties:{id:{serializedName:"id",readOnly:!0,nullable:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,nullable:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},displayName:{serializedName:"properties.displayName",nullable:!0,type:{name:"String"}},parent:{serializedName:"properties.parent",type:{name:"Composite",className:"DescendantParentGroupInfo"}}}}},DescendantParentGroupInfo={type:{name:"Composite",className:"DescendantParentGroupInfo",modelProperties:{id:{serializedName:"id",type:{name:"String"}}}}},SubscriptionUnderManagementGroup={type:{name:"Composite",className:"SubscriptionUnderManagementGroup",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},tenant:{serializedName:"properties.tenant",type:{name:"String"}},displayName:{serializedName:"properties.displayName",type:{name:"String"}},parent:{serializedName:"properties.parent",type:{name:"Composite",className:"DescendantParentGroupInfo"}},state:{serializedName:"properties.state",type:{name:"String"}}}}},ListSubscriptionUnderManagementGroup={type:{name:"Composite",className:"ListSubscriptionUnderManagementGroup",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"SubscriptionUnderManagementGroup"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},HierarchySettingsList={type:{name:"Composite",className:"HierarchySettingsList",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"HierarchySettingsInfo"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},HierarchySettingsInfo={type:{name:"Composite",className:"HierarchySettingsInfo",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},tenantId:{serializedName:"properties.tenantId",type:{name:"String"}},requireAuthorizationForGroupCreation:{serializedName:"properties.requireAuthorizationForGroupCreation",type:{name:"Boolean"}},defaultManagementGroup:{serializedName:"properties.defaultManagementGroup",type:{name:"String"}}}}},HierarchySettings={type:{name:"Composite",className:"HierarchySettings",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},tenantId:{serializedName:"properties.tenantId",type:{name:"String"}},requireAuthorizationForGroupCreation:{serializedName:"properties.requireAuthorizationForGroupCreation",type:{name:"Boolean"}},defaultManagementGroup:{serializedName:"properties.defaultManagementGroup",type:{name:"String"}}}}},CreateOrUpdateSettingsRequest={type:{name:"Composite",className:"CreateOrUpdateSettingsRequest",modelProperties:{requireAuthorizationForGroupCreation:{serializedName:"properties.requireAuthorizationForGroupCreation",type:{name:"Boolean"}},defaultManagementGroup:{serializedName:"properties.defaultManagementGroup",type:{name:"String"}}}}},OperationListResult={type:{name:"Composite",className:"OperationListResult",modelProperties:{value:{serializedName:"value",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Operation"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},Operation={type:{name:"Composite",className:"Operation",modelProperties:{name:{serializedName:"name",readOnly:!0,type:{name:"String"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplayProperties"}}}}},OperationDisplayProperties={type:{name:"Composite",className:"OperationDisplayProperties",modelProperties:{provider:{serializedName:"provider",readOnly:!0,type:{name:"String"}},resource:{serializedName:"resource",readOnly:!0,type:{name:"String"}},operation:{serializedName:"operation",readOnly:!0,type:{name:"String"}},description:{serializedName:"description",readOnly:!0,type:{name:"String"}}}}},CheckNameAvailabilityRequest={type:{name:"Composite",className:"CheckNameAvailabilityRequest",modelProperties:{name:{serializedName:"name",type:{name:"String"}},type:{defaultValue:"Microsoft.Management/managementGroups",isConstant:!0,serializedName:"type",type:{name:"String"}}}}},CheckNameAvailabilityResult={type:{name:"Composite",className:"CheckNameAvailabilityResult",modelProperties:{nameAvailable:{serializedName:"nameAvailable",readOnly:!0,type:{name:"Boolean"}},reason:{serializedName:"reason",readOnly:!0,type:{name:"Enum",allowedValues:["Invalid","AlreadyExists"]}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}}}}},EntityListResult={type:{name:"Composite",className:"EntityListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"EntityInfo"}}}},count:{serializedName:"count",readOnly:!0,type:{name:"Number"}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},EntityInfo={type:{name:"Composite",className:"EntityInfo",modelProperties:{id:{serializedName:"id",readOnly:!0,nullable:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,nullable:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},tenantId:{serializedName:"properties.tenantId",nullable:!0,type:{name:"String"}},displayName:{serializedName:"properties.displayName",nullable:!0,type:{name:"String"}},parent:{serializedName:"properties.parent",type:{name:"Composite",className:"EntityParentGroupInfo"}},permissions:{serializedName:"properties.permissions",nullable:!0,type:{name:"String"}},inheritedPermissions:{serializedName:"properties.inheritedPermissions",nullable:!0,type:{name:"String"}},numberOfDescendants:{serializedName:"properties.numberOfDescendants",nullable:!0,type:{name:"Number"}},numberOfChildren:{serializedName:"properties.numberOfChildren",nullable:!0,type:{name:"Number"}},numberOfChildGroups:{serializedName:"properties.numberOfChildGroups",nullable:!0,type:{name:"Number"}},parentDisplayNameChain:{serializedName:"properties.parentDisplayNameChain",nullable:!0,type:{name:"Sequence",element:{type:{name:"String"}}}},parentNameChain:{serializedName:"properties.parentNameChain",nullable:!0,type:{name:"Sequence",element:{type:{name:"String"}}}}}}},EntityParentGroupInfo={type:{name:"Composite",className:"EntityParentGroupInfo",modelProperties:{id:{serializedName:"id",type:{name:"String"}}}}},TenantBackfillStatusResult={type:{name:"Composite",className:"TenantBackfillStatusResult",modelProperties:{tenantId:{serializedName:"tenantId",readOnly:!0,type:{name:"String"}},status:{serializedName:"status",readOnly:!0,type:{name:"Enum",allowedValues:["NotStarted","NotStartedButGroupsExist","Started","Failed","Cancelled","Completed"]}}}}},OperationResults={type:{name:"Composite",className:"OperationResults",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},tenantId:{serializedName:"properties.tenantId",type:{name:"String"}},displayName:{serializedName:"properties.displayName",type:{name:"String"}}}}},EntityHierarchyItem={type:{name:"Composite",className:"EntityHierarchyItem",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},displayName:{serializedName:"properties.displayName",type:{name:"String"}},permissions:{serializedName:"properties.permissions",type:{name:"String"}},children:{serializedName:"properties.children",nullable:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"EntityHierarchyItem"}}}}}}},ManagementGroupsCreateOrUpdateHeaders={type:{name:"Composite",className:"ManagementGroupsCreateOrUpdateHeaders",modelProperties:{location:{serializedName:"location",type:{name:"String"}},azureAsyncOperation:{serializedName:"azure-asyncoperation",type:{name:"String"}}}}},ManagementGroupsDeleteHeaders={type:{name:"Composite",className:"ManagementGroupsDeleteHeaders",modelProperties:{location:{serializedName:"location",type:{name:"String"}},azureAsyncOperation:{serializedName:"azure-asyncoperation",type:{name:"String"}}}}};var Mappers=Object.freeze({__proto__:null,ManagementGroupListResult:ManagementGroupListResult,ManagementGroupInfo:ManagementGroupInfo,ErrorResponse:ErrorResponse,ErrorDetails:ErrorDetails,ManagementGroup:ManagementGroup,ManagementGroupDetails:ManagementGroupDetails,ParentGroupInfo:ParentGroupInfo,ManagementGroupPathElement:ManagementGroupPathElement,ManagementGroupChildInfo:ManagementGroupChildInfo,CreateManagementGroupRequest:CreateManagementGroupRequest,CreateManagementGroupDetails:CreateManagementGroupDetails,CreateParentGroupInfo:CreateParentGroupInfo,CreateManagementGroupChildInfo:CreateManagementGroupChildInfo,AzureAsyncOperationResults:AzureAsyncOperationResults,PatchManagementGroupRequest:PatchManagementGroupRequest,DescendantListResult:DescendantListResult,DescendantInfo:DescendantInfo,DescendantParentGroupInfo:DescendantParentGroupInfo,SubscriptionUnderManagementGroup:SubscriptionUnderManagementGroup,ListSubscriptionUnderManagementGroup:ListSubscriptionUnderManagementGroup,HierarchySettingsList:HierarchySettingsList,HierarchySettingsInfo:HierarchySettingsInfo,HierarchySettings:HierarchySettings,CreateOrUpdateSettingsRequest:CreateOrUpdateSettingsRequest,OperationListResult:OperationListResult,Operation:Operation,OperationDisplayProperties:OperationDisplayProperties,CheckNameAvailabilityRequest:CheckNameAvailabilityRequest,CheckNameAvailabilityResult:CheckNameAvailabilityResult,EntityListResult:EntityListResult,EntityInfo:EntityInfo,EntityParentGroupInfo:EntityParentGroupInfo,TenantBackfillStatusResult:TenantBackfillStatusResult,OperationResults:OperationResults,EntityHierarchyItem:EntityHierarchyItem,ManagementGroupsCreateOrUpdateHeaders:ManagementGroupsCreateOrUpdateHeaders,ManagementGroupsDeleteHeaders:ManagementGroupsDeleteHeaders});const accept={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},$host={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},apiVersion={parameterPath:"apiVersion",mapper:{defaultValue:"2021-04-01",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},cacheControl={parameterPath:["options","cacheControl"],mapper:{defaultValue:"no-cache",serializedName:"Cache-Control",type:{name:"String"}}},skiptoken={parameterPath:["options","skiptoken"],mapper:{serializedName:"$skiptoken",type:{name:"String"}}},groupId={parameterPath:"groupId",mapper:{serializedName:"groupId",required:!0,type:{name:"String"}}},expand={parameterPath:["options","expand"],mapper:{serializedName:"$expand",type:{name:"String"}}},recurse={parameterPath:["options","recurse"],mapper:{serializedName:"$recurse",type:{name:"Boolean"}}},filter={parameterPath:["options","filter"],mapper:{serializedName:"$filter",type:{name:"String"}}},contentType={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},createManagementGroupRequest={parameterPath:"createManagementGroupRequest",mapper:CreateManagementGroupRequest},patchGroupRequest={parameterPath:"patchGroupRequest",mapper:PatchManagementGroupRequest},top={parameterPath:["options","top"],mapper:{serializedName:"$top",type:{name:"Number"}}},nextLink={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0},subscriptionId={parameterPath:"subscriptionId",mapper:{serializedName:"subscriptionId",required:!0,type:{name:"String"}}},createTenantSettingsRequest={parameterPath:"createTenantSettingsRequest",mapper:CreateOrUpdateSettingsRequest},checkNameAvailabilityRequest={parameterPath:"checkNameAvailabilityRequest",mapper:CheckNameAvailabilityRequest},skip={parameterPath:["options","skip"],mapper:{serializedName:"$skip",type:{name:"Number"}}},select={parameterPath:["options","select"],mapper:{serializedName:"$select",type:{name:"String"}}},search={parameterPath:["options","search"],mapper:{serializedName:"$search",type:{name:"String"}}},view={parameterPath:["options","view"],mapper:{serializedName:"$view",type:{name:"String"}}},groupName={parameterPath:["options","groupName"],mapper:{serializedName:"groupName",type:{name:"String"}}};class LroImpl{constructor(e,t,a,r=a.path,n=a.httpMethod){this.sendOperationFn=e,this.args=t,this.spec=a,this.requestPath=r,this.requestMethod=n}sendInitialRequest(){return tslib.__awaiter(this,void 0,void 0,function*(){return this.sendOperationFn(this.args,this.spec)})}sendPollRequest(t){return tslib.__awaiter(this,void 0,void 0,function*(){var e=this.spec,e=tslib.__rest(e,["requestBody"]);return this.sendOperationFn(this.args,Object.assign(Object.assign({},e),{path:t,httpMethod:"GET"}))})}}class ManagementGroupsImpl{constructor(e){this.client=e}list(t){const e=this.listPagingAll(t);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,e)}}}listPagingPage(n,i){return tslib.__asyncGenerator(this,arguments,function*(){let e,t=null==i?void 0:i.continuationToken;var a;for(t||(setContinuationToken(a=(e=yield tslib.__await(this._list(n))).value||[],t=e.nextLink),yield yield tslib.__await(a));t;){e=yield tslib.__await(this._listNext(t,n)),t=e.nextLink;var r=e.value||[];setContinuationToken(r,t),yield yield tslib.__await(r)}})}listPagingAll(i){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var a,r=tslib.__asyncValues(this.listPagingPage(i));!(a=yield tslib.__await(r.next())).done;){var n=a.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(n)))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=r.return)&&(yield tslib.__await(e.call(r)))}finally{if(t)throw t.error}}})}listDescendants(t,a){const e=this.getDescendantsPagingAll(t,a);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.getDescendantsPagingPage(t,a,e)}}}getDescendantsPagingPage(n,i,s){return tslib.__asyncGenerator(this,arguments,function*(){let e,t=null==s?void 0:s.continuationToken;var a;for(t||(setContinuationToken(a=(e=yield tslib.__await(this._getDescendants(n,i))).value||[],t=e.nextLink),yield yield tslib.__await(a));t;){e=yield tslib.__await(this._getDescendantsNext(n,t,i)),t=e.nextLink;var r=e.value||[];setContinuationToken(r,t),yield yield tslib.__await(r)}})}getDescendantsPagingAll(i,s){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var a,r=tslib.__asyncValues(this.getDescendantsPagingPage(i,s));!(a=yield tslib.__await(r.next())).done;){var n=a.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(n)))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=r.return)&&(yield tslib.__await(e.call(r)))}finally{if(t)throw t.error}}})}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec$3)}get(e,t){return this.client.sendOperationRequest({groupId:e,options:t},getOperationSpec$1)}beginCreateOrUpdate(t,a,r){return tslib.__awaiter(this,void 0,void 0,function*(){const i=(e,t)=>tslib.__awaiter(this,void 0,void 0,function*(){return this.client.sendOperationRequest(e,t)});var e=new LroImpl((t,n)=>tslib.__awaiter(this,void 0,void 0,function*(){let a=void 0;const r=null==(e=t.options)?void 0:e.onResponse;var e=Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},t.options),{onResponse:(e,t)=>{a=e,null!==r&&void 0!==r&&r(e,t)}})});return{flatResponse:yield i(e,n),rawResponse:{statusCode:a.status,body:a.parsedBody,headers:a.headers.toJSON()}}}),{groupId:t,createManagementGroupRequest:a,options:r},createOrUpdateOperationSpec$1),e=new coreLro.LroEngine(e,{resumeFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs,lroResourceLocationConfig:"azure-async-operation"});return yield e.poll(),e})}beginCreateOrUpdateAndWait(e,t,a){return tslib.__awaiter(this,void 0,void 0,function*(){return(yield this.beginCreateOrUpdate(e,t,a)).pollUntilDone()})}update(e,t,a){return this.client.sendOperationRequest({groupId:e,patchGroupRequest:t,options:a},updateOperationSpec$1)}beginDelete(t,a){return tslib.__awaiter(this,void 0,void 0,function*(){const i=(e,t)=>tslib.__awaiter(this,void 0,void 0,function*(){return this.client.sendOperationRequest(e,t)});var e=new LroImpl((t,n)=>tslib.__awaiter(this,void 0,void 0,function*(){let a=void 0;const r=null==(e=t.options)?void 0:e.onResponse;var e=Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},t.options),{onResponse:(e,t)=>{a=e,null!==r&&void 0!==r&&r(e,t)}})});return{flatResponse:yield i(e,n),rawResponse:{statusCode:a.status,body:a.parsedBody,headers:a.headers.toJSON()}}}),{groupId:t,options:a},deleteOperationSpec$2),e=new coreLro.LroEngine(e,{resumeFrom:null==a?void 0:a.resumeFrom,intervalInMs:null==a?void 0:a.updateIntervalInMs,lroResourceLocationConfig:"azure-async-operation"});return yield e.poll(),e})}beginDeleteAndWait(e,t){return tslib.__awaiter(this,void 0,void 0,function*(){return(yield this.beginDelete(e,t)).pollUntilDone()})}_getDescendants(e,t){return this.client.sendOperationRequest({groupId:e,options:t},getDescendantsOperationSpec)}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},listNextOperationSpec$2)}_getDescendantsNext(e,t,a){return this.client.sendOperationRequest({groupId:e,nextLink:t,options:a},getDescendantsNextOperationSpec)}}const serializer$5=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec$3={path:"/providers/Microsoft.Management/managementGroups",httpMethod:"GET",responses:{200:{bodyMapper:ManagementGroupListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion,skiptoken],urlParameters:[$host],headerParameters:[accept,cacheControl],serializer:serializer$5},getOperationSpec$1={path:"/providers/Microsoft.Management/managementGroups/{groupId}",httpMethod:"GET",responses:{200:{bodyMapper:ManagementGroup},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion,expand,recurse,filter],urlParameters:[$host,groupId],headerParameters:[accept,cacheControl],serializer:serializer$5},createOrUpdateOperationSpec$1={path:"/providers/Microsoft.Management/managementGroups/{groupId}",httpMethod:"PUT",responses:{200:{bodyMapper:ManagementGroup},201:{bodyMapper:ManagementGroup},202:{bodyMapper:ManagementGroup},204:{bodyMapper:ManagementGroup},default:{bodyMapper:ErrorResponse}},requestBody:createManagementGroupRequest,queryParameters:[apiVersion],urlParameters:[$host,groupId],headerParameters:[accept,cacheControl,contentType],mediaType:"json",serializer:serializer$5},updateOperationSpec$1={path:"/providers/Microsoft.Management/managementGroups/{groupId}",httpMethod:"PATCH",responses:{200:{bodyMapper:ManagementGroup},default:{bodyMapper:ErrorResponse}},requestBody:patchGroupRequest,queryParameters:[apiVersion],urlParameters:[$host,groupId],headerParameters:[accept,cacheControl,contentType],mediaType:"json",serializer:serializer$5},deleteOperationSpec$2={path:"/providers/Microsoft.Management/managementGroups/{groupId}",httpMethod:"DELETE",responses:{200:{bodyMapper:AzureAsyncOperationResults,headersMapper:ManagementGroupsDeleteHeaders},201:{bodyMapper:AzureAsyncOperationResults,headersMapper:ManagementGroupsDeleteHeaders},202:{bodyMapper:AzureAsyncOperationResults,headersMapper:ManagementGroupsDeleteHeaders},204:{bodyMapper:AzureAsyncOperationResults,headersMapper:ManagementGroupsDeleteHeaders},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,groupId],headerParameters:[accept,cacheControl],serializer:serializer$5},getDescendantsOperationSpec={path:"/providers/Microsoft.Management/managementGroups/{groupId}/descendants",httpMethod:"GET",responses:{200:{bodyMapper:DescendantListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion,skiptoken,top],urlParameters:[$host,groupId],headerParameters:[accept],serializer:serializer$5},listNextOperationSpec$2={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ManagementGroupListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion,skiptoken],urlParameters:[$host,nextLink],headerParameters:[accept,cacheControl],serializer:serializer$5},getDescendantsNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:DescendantListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion,skiptoken,top],urlParameters:[$host,groupId,nextLink],headerParameters:[accept],serializer:serializer$5};class ManagementGroupSubscriptionsImpl{constructor(e){this.client=e}listSubscriptionsUnderManagementGroup(t,a){const e=this.getSubscriptionsUnderManagementGroupPagingAll(t,a);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.getSubscriptionsUnderManagementGroupPagingPage(t,a,e)}}}getSubscriptionsUnderManagementGroupPagingPage(n,i,s){return tslib.__asyncGenerator(this,arguments,function*(){let e,t=null==s?void 0:s.continuationToken;var a;for(t||(setContinuationToken(a=(e=yield tslib.__await(this._getSubscriptionsUnderManagementGroup(n,i))).value||[],t=e.nextLink),yield yield tslib.__await(a));t;){e=yield tslib.__await(this._getSubscriptionsUnderManagementGroupNext(n,t,i)),t=e.nextLink;var r=e.value||[];setContinuationToken(r,t),yield yield tslib.__await(r)}})}getSubscriptionsUnderManagementGroupPagingAll(i,s){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var a,r=tslib.__asyncValues(this.getSubscriptionsUnderManagementGroupPagingPage(i,s));!(a=yield tslib.__await(r.next())).done;){var n=a.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(n)))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=r.return)&&(yield tslib.__await(e.call(r)))}finally{if(t)throw t.error}}})}create(e,t,a){return this.client.sendOperationRequest({groupId:e,subscriptionId:t,options:a},createOperationSpec)}delete(e,t,a){return this.client.sendOperationRequest({groupId:e,subscriptionId:t,options:a},deleteOperationSpec$1)}getSubscription(e,t,a){return this.client.sendOperationRequest({groupId:e,subscriptionId:t,options:a},getSubscriptionOperationSpec)}_getSubscriptionsUnderManagementGroup(e,t){return this.client.sendOperationRequest({groupId:e,options:t},getSubscriptionsUnderManagementGroupOperationSpec)}_getSubscriptionsUnderManagementGroupNext(e,t,a){return this.client.sendOperationRequest({groupId:e,nextLink:t,options:a},getSubscriptionsUnderManagementGroupNextOperationSpec)}}const serializer$4=coreClient__namespace.createSerializer(Mappers,!1),createOperationSpec={path:"/providers/Microsoft.Management/managementGroups/{groupId}/subscriptions/{subscriptionId}",httpMethod:"PUT",responses:{200:{bodyMapper:SubscriptionUnderManagementGroup},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,groupId,subscriptionId],headerParameters:[accept,cacheControl],serializer:serializer$4},deleteOperationSpec$1={path:"/providers/Microsoft.Management/managementGroups/{groupId}/subscriptions/{subscriptionId}",httpMethod:"DELETE",responses:{200:{},204:{},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,groupId,subscriptionId],headerParameters:[accept,cacheControl],serializer:serializer$4},getSubscriptionOperationSpec={path:"/providers/Microsoft.Management/managementGroups/{groupId}/subscriptions/{subscriptionId}",httpMethod:"GET",responses:{200:{bodyMapper:SubscriptionUnderManagementGroup},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,groupId,subscriptionId],headerParameters:[accept,cacheControl],serializer:serializer$4},getSubscriptionsUnderManagementGroupOperationSpec={path:"/providers/Microsoft.Management/managementGroups/{groupId}/subscriptions",httpMethod:"GET",responses:{200:{bodyMapper:ListSubscriptionUnderManagementGroup},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion,skiptoken],urlParameters:[$host,groupId],headerParameters:[accept],serializer:serializer$4},getSubscriptionsUnderManagementGroupNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ListSubscriptionUnderManagementGroup},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion,skiptoken],urlParameters:[$host,groupId,nextLink],headerParameters:[accept],serializer:serializer$4};class HierarchySettingsOperationsImpl{constructor(e){this.client=e}list(e,t){return this.client.sendOperationRequest({groupId:e,options:t},listOperationSpec$2)}get(e,t){return this.client.sendOperationRequest({groupId:e,options:t},getOperationSpec)}createOrUpdate(e,t,a){return this.client.sendOperationRequest({groupId:e,createTenantSettingsRequest:t,options:a},createOrUpdateOperationSpec)}update(e,t,a){return this.client.sendOperationRequest({groupId:e,createTenantSettingsRequest:t,options:a},updateOperationSpec)}delete(e,t){return this.client.sendOperationRequest({groupId:e,options:t},deleteOperationSpec)}}const serializer$3=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec$2={path:"/providers/Microsoft.Management/managementGroups/{groupId}/settings",httpMethod:"GET",responses:{200:{bodyMapper:HierarchySettingsList},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,groupId],headerParameters:[accept],serializer:serializer$3},getOperationSpec={path:"/providers/Microsoft.Management/managementGroups/{groupId}/settings/default",httpMethod:"GET",responses:{200:{bodyMapper:HierarchySettings},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,groupId],headerParameters:[accept],serializer:serializer$3},createOrUpdateOperationSpec={path:"/providers/Microsoft.Management/managementGroups/{groupId}/settings/default",httpMethod:"PUT",responses:{200:{bodyMapper:HierarchySettings},default:{bodyMapper:ErrorResponse}},requestBody:createTenantSettingsRequest,queryParameters:[apiVersion],urlParameters:[$host,groupId],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer$3},updateOperationSpec={path:"/providers/Microsoft.Management/managementGroups/{groupId}/settings/default",httpMethod:"PATCH",responses:{200:{bodyMapper:HierarchySettings},default:{bodyMapper:ErrorResponse}},requestBody:createTenantSettingsRequest,queryParameters:[apiVersion],urlParameters:[$host,groupId],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer$3},deleteOperationSpec={path:"/providers/Microsoft.Management/managementGroups/{groupId}/settings/default",httpMethod:"DELETE",responses:{200:{},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,groupId],headerParameters:[accept],serializer:serializer$3};class OperationsImpl{constructor(e){this.client=e}list(t){const e=this.listPagingAll(t);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,e)}}}listPagingPage(n,i){return tslib.__asyncGenerator(this,arguments,function*(){let e,t=null==i?void 0:i.continuationToken;var a;for(t||(setContinuationToken(a=(e=yield tslib.__await(this._list(n))).value||[],t=e.nextLink),yield yield tslib.__await(a));t;){e=yield tslib.__await(this._listNext(t,n)),t=e.nextLink;var r=e.value||[];setContinuationToken(r,t),yield yield tslib.__await(r)}})}listPagingAll(i){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var a,r=tslib.__asyncValues(this.listPagingPage(i));!(a=yield tslib.__await(r.next())).done;){var n=a.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(n)))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=r.return)&&(yield tslib.__await(e.call(r)))}finally{if(t)throw t.error}}})}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec$1)}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},listNextOperationSpec$1)}}const serializer$2=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec$1={path:"/providers/Microsoft.Management/operations",httpMethod:"GET",responses:{200:{bodyMapper:OperationListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer$2},listNextOperationSpec$1={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:OperationListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,nextLink],headerParameters:[accept],serializer:serializer$2};class EntitiesImpl{constructor(e){this.client=e}list(t){const e=this.listPagingAll(t);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,e)}}}listPagingPage(n,i){return tslib.__asyncGenerator(this,arguments,function*(){let e,t=null==i?void 0:i.continuationToken;var a;for(t||(setContinuationToken(a=(e=yield tslib.__await(this._list(n))).value||[],t=e.nextLink),yield yield tslib.__await(a));t;){e=yield tslib.__await(this._listNext(t,n)),t=e.nextLink;var r=e.value||[];setContinuationToken(r,t),yield yield tslib.__await(r)}})}listPagingAll(i){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var a,r=tslib.__asyncValues(this.listPagingPage(i));!(a=yield tslib.__await(r.next())).done;){var n=a.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(n)))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=r.return)&&(yield tslib.__await(e.call(r)))}finally{if(t)throw t.error}}})}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec)}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},listNextOperationSpec)}}const serializer$1=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec={path:"/providers/Microsoft.Management/getEntities",httpMethod:"POST",responses:{200:{bodyMapper:EntityListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion,skiptoken,filter,top,skip,select,search,view,groupName],urlParameters:[$host],headerParameters:[accept,cacheControl],serializer:serializer$1},listNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:EntityListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion,skiptoken,filter,top,skip,select,search,view,groupName],urlParameters:[$host,nextLink],headerParameters:[accept,cacheControl],serializer:serializer$1};class ManagementGroupsAPI extends coreClient__namespace.ServiceClient{constructor(e,t){if(void 0===e)throw new Error("'credentials' cannot be null");var a,r="azsdk-js-arm-managementgroups/2.0.2",r=(t=t||{}).userAgentOptions&&t.userAgentOptions.userAgentPrefix?t.userAgentOptions.userAgentPrefix+" "+r:r,r=Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8",credential:e}),t),{userAgentOptions:{userAgentPrefix:r},endpoint:null!=(r=null!=(r=t.endpoint)?r:t.baseUri)?r:"https://management.azure.com"});super(r);let n=!1;null!=t&&t.pipeline&&0<t.pipeline.getOrderedPolicies().length&&(a=t.pipeline.getOrderedPolicies(),n=a.some(e=>e.name===coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName)),t&&t.pipeline&&0!=t.pipeline.getOrderedPolicies().length&&n||(this.pipeline.removePolicy({name:coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName}),this.pipeline.addPolicy(coreRestPipeline__namespace.bearerTokenAuthenticationPolicy({credential:e,scopes:null!=(a=r.credentialScopes)?a:r.endpoint+"/.default",challengeCallbacks:{authorizeRequestOnChallenge:coreClient__namespace.authorizeRequestOnClaimChallenge}}))),this.$host=t.$host||"https://management.azure.com",this.apiVersion=t.apiVersion||"2021-04-01",this.managementGroups=new ManagementGroupsImpl(this),this.managementGroupSubscriptions=new ManagementGroupSubscriptionsImpl(this),this.hierarchySettingsOperations=new HierarchySettingsOperationsImpl(this),this.operations=new OperationsImpl(this),this.entities=new EntitiesImpl(this),this.addCustomApiVersionPolicy(t.apiVersion)}addCustomApiVersionPolicy(n){n&&this.pipeline.addPolicy({name:"CustomApiVersionPolicy",sendRequest(a,r){return tslib.__awaiter(this,void 0,void 0,function*(){var e,t=a.url.split("?");return 1<t.length&&(e=t[1].split("&").map(e=>-1<e.indexOf("api-version")?"api-version="+n:e),a.url=t[0]+"?"+e.join("&")),r(a)})}})}checkNameAvailability(e,t){return this.sendOperationRequest({checkNameAvailabilityRequest:e,options:t},checkNameAvailabilityOperationSpec)}startTenantBackfill(e){return this.sendOperationRequest({options:e},startTenantBackfillOperationSpec)}tenantBackfillStatus(e){return this.sendOperationRequest({options:e},tenantBackfillStatusOperationSpec)}}const serializer=coreClient__namespace.createSerializer(Mappers,!1),checkNameAvailabilityOperationSpec={path:"/providers/Microsoft.Management/checkNameAvailability",httpMethod:"POST",responses:{200:{bodyMapper:CheckNameAvailabilityResult},default:{bodyMapper:ErrorResponse}},requestBody:checkNameAvailabilityRequest,queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer},startTenantBackfillOperationSpec={path:"/providers/Microsoft.Management/startTenantBackfill",httpMethod:"POST",responses:{200:{bodyMapper:TenantBackfillStatusResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer},tenantBackfillStatusOperationSpec={path:"/providers/Microsoft.Management/tenantBackfillStatus",httpMethod:"POST",responses:{200:{bodyMapper:TenantBackfillStatusResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer};exports.ManagementGroupsAPI=ManagementGroupsAPI,exports.getContinuationToken=getContinuationToken;